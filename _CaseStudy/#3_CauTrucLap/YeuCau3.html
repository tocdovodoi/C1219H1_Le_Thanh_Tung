<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý khu nghỉ dưỡng Furama</title>
    <!--</head>-->
<body>
<script>
    let idCard;
    let checkId = true;
    //Định dạng lại tên
    let nameCustomer = prompt("Enter Name Customer: ");
    let nameStandardized = "";
    nameCustomer = nameCustomer.trim().toLocaleLowerCase();
    for (let i = 0; i < nameCustomer.length; i++) {
        if (nameCustomer.charAt(i) === " " && nameCustomer.charAt(i + 1) === " ") {
            continue;
        }
        if (i == 0 || nameCustomer.charAt(i - 1) == " ") {
            nameStandardized += nameCustomer.charAt(i).toLocaleUpperCase();
            continue;
        }
        nameStandardized += nameCustomer.charAt(i);
    }
    nameCustomer = nameStandardized;

    do {
        idCard = prompt("Enter ID Card: ");
        for (let i = 0; i < idCard.length; i++) {
            if ((idCard.charAt(0) != 0) && ((idCard.charAt(i) >= 0) && (!isNaN(idCard.charAt(i))))) {
                checkId = false;
            }
        }
    } while (checkId);
    let birthdayCustomer;
    let checkBirthday = true;
    do {
        birthdayCustomer = prompt("Enter Birthday Customer (dd/MM/yyyy): ");
        for (let i = 0; i < 10; i++) {
            if (birthdayCustomer.charAt(2) === "/"
                && birthdayCustomer.charAt(5) === "/"
                && parseInt(birthdayCustomer.charAt(0)) >= 0
                && parseInt(birthdayCustomer.charAt(1)) >= 0
                && parseInt(birthdayCustomer.charAt(3)) >= 0
                && parseInt(birthdayCustomer.charAt(4)) >= 0
                && parseInt(birthdayCustomer.charAt(6)) >= 0
                && parseInt(birthdayCustomer.charAt(7)) >= 0
                && parseInt(birthdayCustomer.charAt(8)) >= 0
                && parseInt(birthdayCustomer.charAt(9)) >= 0
                && birthdayCustomer.length === 10
            ) {
                checkBirthday = false;
            }
        }
    } while (checkBirthday);
    let emailCustomer;
    let checkEmail = true;
    do {
        emailCustomer = prompt("Enter Email Customer: ");
        let countDoc = 0; // dấu .
        let countAt = 0; // dấu @
        for (let i = 0; i < emailCustomer.length; i++) {
            if (emailCustomer.charAt(i) === ".") {
                countDoc++;
            }
            if (emailCustomer.charAt(i) === "@") {
                countAt++;
            }
        }
        if (countDoc >= 1 && countAt == 1) {
            checkEmail = false;

        } else {
            alert("Please input email try again!");
        }
    } while (checkEmail);

    //Định dạng lại địa chỉ
    let addressCustomer = prompt("Enter Address Customer: ");
    let addressStandardized = "";
    addressCustomer = addressCustomer.trim().toLocaleLowerCase();
    for (let i = 0; i < addressCustomer.length; i++) {
        if (addressCustomer.charAt(i) === " " && addressCustomer.charAt(i + 1) === " ") {
            continue;
        }
        if (i === 0 || addressCustomer.charAt(i - 1) === " ") {
            addressStandardized += addressCustomer.charAt(i).toLocaleUpperCase();
            continue;
        }
        addressStandardized += addressCustomer.charAt(i);
    }
    addressCustomer = addressStandardized;

    let typeCustomer = prompt("Enter Type Customer: ");
    let discount;
    let checkDiscount = false;
    do {
        checkDiscount = false;
        discount = prompt("Enter Discount: ");
        if (!isNaN(discount)) {
            discount = Number.parseFloat(discount);
            if (discount >= 0) {
                checkDiscount = true;
            }
        }
    } while (!checkDiscount);
    let numberOfAccompaying = prompt("Enter Number Of Accompaying: ");
    let typeRoom = prompt("Enter Type Room: ");
    let rentDays = prompt("Enter Rent Days: ");
    let typeService = prompt("Enter Type Service: ");
    let totalPays = 500 * Number.parseInt(rentDays) * (1 - Number.parseFloat(discount) / 100);
    //Hiển thị thông tin
    alert("Information Of Customer: \n" +
        "Name: " + nameCustomer +
        "\nID Card: " + idCard +
        "\nBirthday: " + birthdayCustomer +
        "\nEmail: " + emailCustomer +
        "\nAddress: " + addressCustomer +
        "\nType Customer: " + typeCustomer +
        "\nDiscount: " + discount +
        "\nNumber Of Accompaying: " + numberOfAccompaying +
        "\nType Room: " + typeRoom +
        "\nRent Days: " + rentDays +
        "\nType Service: " + typeService +
        "\nTotal Pays: " + totalPays
    );
</script>
</body>
</html>