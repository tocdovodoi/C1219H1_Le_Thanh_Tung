<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quản lý khu nghỉ dưỡng Furama</title>
</head>
<body>
<script>
    let nameCustomer = "Lê Thanh Tùng";
    let idCard = "192140068";
    let birthdayCustomer = "13/05/1989";
    let emailCustomer = "thanhtungspt@gmail.com";
    let addressCustomer = "Đà Nẵng";
    let typeCustomer = "Diamond";
    let discount = 10;
    let numberOfAccompaying = 2;
    let typeRoom = "Bussiness";
    let rentDays = 10;
    let typeService = "Villa";
    //let totalPays = 500 * rentDays * (1 - discount) / 100;
    //Tạo menu
    let i = "1";
    do {
        let choose = prompt(
            "1. Show information Customer.\n" +
            "2. Edit information Customer.\n" +
            "3. Show the Amount to be paid after Discount.\n" +
            "4. Exit");
        var checkChoose = true; //Thay vì khai báo let, phải khai báo var
        switch (choose) {
            case "1":
                alert("Information Of Customer: \n" +
                    "Name: " + nameCustomer +
                    "\nID Card: " + idCard +
                    "\nBirthday: " + birthdayCustomer +
                    "\nEmail: " + emailCustomer +
                    "\nAddress: " + addressCustomer +
                    "\nType Customer: " + typeCustomer +
                    "\nDiscount: " + discount +
                    "\nNumber Of Accompaying: " + numberOfAccompaying +
                    "\nType Room: " + typeRoom +
                    "\nRent Days: " + rentDays +
                    "\nType Service: " + typeService);
                break;
            case "2":
                var checkEdit = true;   //Thay vì khai báo let, phải khai báo var

                do {
                    let chooseEdit = prompt(
                        "Choose Information Customer You Want Edit: \n" +
                        "1. Name: " + nameCustomer +
                        "\n2. ID Card: " + idCard +
                        "\n3. Birthday: " + birthdayCustomer +
                        "\n4. Email: " + emailCustomer +
                        "\n5. Address: " + addressCustomer +
                        "\n6. Type Customer: " + typeCustomer +
                        "\n7. Discount: " + discount +
                        "\n8 .Number Of Accompaying: " + numberOfAccompaying +
                        "\n9. Type Room: " + typeRoom +
                        "\n10. Rent Days: " + rentDays +
                        "\n11. Type Service: " + typeService +
                        "\n12. Exit!");
                    switch (chooseEdit) {
                        case "1":
                            nameCustomer = prompt("Enter name you want edit");
                            break;
                        case "2":
                            idCard = prompt("Enter id you want edit");
                            break;
                        case "3":
                            birthdayCustomer = prompt("Enter birthday you want edit (dd/MM/yyy)");
                            break;
                        case "4":
                            emailCustomer = prompt("Enter email you want edit");
                            break;
                        case "5":
                            addressCustomer = prompt("Enter address you want edit");
                            break;
                        case "6":
                            typeCustomer = prompt("Enter typeCustomer you want edit");
                            break;
                        case "7":
                            discount = prompt("Enter discount you want edit");
                            break;
                        case "8":
                            numberOfAccompaying = prompt("Enter Number Of Accompaying you want edit");
                            break;
                        case "9":
                            typeRoom = prompt("Enter Type Room you want edit");
                            break;
                        case "10":
                            rentDays = prompt("Enter Rent Days you want edit");
                            break;
                        case "11":
                            typeService = prompt("Enter Type Service you want edit");
                            break;
                        case "12":
                            alert("Bạn đã sửa xong!");
                            checkEdit = false;
                            break;
                        default:
                            alert("Field !!");
                    }
                } while (checkEdit);
                break;
            case "3":
                let moneyPerDays = 0;
                let discountCondition = 0;
                let currentYear = new Date().getFullYear();
                let birthday = new Date(birthdayCustomer).getFullYear();
                let ageCustomer = currentYear - birthday;
                //Giảm giá theo Địa chỉ và tuổi
                if (addressCustomer == "Đà Nẵng") {
                    discountCondition += 20;
                    if (ageCustomer >= 30) {
                        discountCondition += 2;
                    } else if (addressCustomer >= 20 && addressCustomer < 30) {
                        discountCondition += 1;
                    }
                } else if (addressCustomer == "Huế") {
                    discountCondition += 10;
                } else if (addressCustomer == "Quảng Nam") {
                    discountCondition += 5;
                }

                //Giảm giá theo thời gian lưu trú
                if (rentDays > 7) {
                    discountCondition += 30;
                } else if (rentDays >= 5) {
                    discountCondition += 20;
                } else if (rentDays >= 2) {
                    discountCondition += 10;
                }

                //Giảm giá theo loại Customer
                if (typeCustomer == "Diamond") {
                    discountCondition += 15;
                } else if (typeCustomer == "Platium") {
                    discountCondition += 10;
                } else if (typeCustomer == "Gold") {
                    discountCondition += 5;
                } else if (typeCustomer = "Silver") {
                    discountCondition += 2;
                }

                if (typeService === "Villa") {
                    moneyPerDays = 500;
                } else if (typeService === "House") {
                    moneyPerDays = 300;
                } else {
                    moneyPerDays = 100;
                }
                let totalPays = moneyPerDays * rentDays * (1 - discount / 100);
                totalPays -= discountCondition;
                alert("Total Pays After Discountcondition: " + totalPays);
                break;
            case "4" :
                alert("Tạm biệt!");
                checkChoose = false;
                break;
            default:
                alert("Vui lòng chọn chức năng 1 - 4");
        }
    } while (checkChoose);
</script>
</body>
</html>